<div class="row">
    <div class="col-12">
        <div class="ol-card">
            <div class="ol-card-body p-3 position-relative" id="filters-container">
                <div id="project-filter" class="d-none">

                </div>
                <div class="ol-card radius-8px print-d-none">
                    <div class="ol-card-body px-2">
                        <div class="d-flex align-items-center justify-content-between gap-3 flex-wrap flex-md-nowrap">
                            <h4 class="title fs-16px">
                                <i class="fi-rr-settings-sliders me-2"></i>
                                {{ get_phrase('Manage Project') }}
                            </h4>
                            <div class="top-bar d-flex align-items-center">
                                <div class="input-group dt-custom-search">
                                    <span class="input-group-text">
                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M0.733496 7.66665C0.733496 11.4885 3.84493 14.6 7.66683 14.6C11.4887 14.6 14.6002 11.4885 14.6002 7.66665C14.6002 3.84475 11.4887 0.733313 7.66683 0.733313C3.84493 0.733313 0.733496 3.84475 0.733496 7.66665ZM1.9335 7.66665C1.9335 4.50847 4.50213 1.93331 7.66683 1.93331C10.8315 1.93331 13.4002 4.50847 13.4002 7.66665C13.4002 10.8248 10.8315 13.4 7.66683 13.4C4.50213 13.4 1.9335 10.8248 1.9335 7.66665Z"
                                                fill="#99A1B7" stroke="#99A1B7" stroke-width="0.2" />
                                            <path
                                                d="M14.2426 15.0907C14.3623 15.2105 14.5149 15.2667 14.6666 15.2667C14.8184 15.2667 14.9709 15.2105 15.0907 15.0907C15.3231 14.8583 15.3231 14.475 15.0907 14.2426L12.7774 11.9293C12.545 11.6969 12.1617 11.6969 11.9293 11.9293C11.6969 12.1617 11.6969 12.545 11.9293 12.7774L14.2426 15.0907Z"
                                                fill="#99A1B7" stroke="#99A1B7" stroke-width="0.2" />
                                        </svg>
                                    </span>
                                    <input type="text" class="form-control" name="customSearch"
                                        id="custom-search-box" placeholder="Search">
                                </div>
                                <a href="{{ route('admin.projects', ['layout' => 'grid']) }}"
                                    class="grid-icon {{ request('layout') === 'grid' ? 'active' : '' }}">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <g clip-path="url(#clip0_185_2549)">
                                            <path
                                                d="M17.5 0.625H12.7087C12.2116 0.625529 11.735 0.823243 11.3835 1.17476C11.032 1.52628 10.8343 2.00288 10.8337 2.5V7.29187C10.8343 7.78899 11.032 8.2656 11.3835 8.61712C11.735 8.96863 12.2116 9.16635 12.7087 9.16687H17.5C17.9971 9.16631 18.4737 8.96859 18.8252 8.61708C19.1767 8.26557 19.3744 7.78898 19.375 7.29187V2.5C19.3744 2.00289 19.1767 1.5263 18.8252 1.1748C18.4737 0.823287 17.9971 0.625562 17.5 0.625ZM18.125 7.29187C18.1248 7.45757 18.0589 7.61643 17.9417 7.7336C17.8245 7.85077 17.6657 7.91668 17.5 7.91687H12.7087C12.543 7.91668 12.3842 7.85077 12.267 7.7336C12.1499 7.61643 12.0839 7.45757 12.0837 7.29187V2.5C12.0839 2.3343 12.1499 2.17544 12.267 2.05828C12.3842 1.94111 12.543 1.8752 12.7087 1.875H17.5C17.6657 1.8752 17.8245 1.94111 17.9417 2.05828C18.0589 2.17544 18.1248 2.3343 18.125 2.5V7.29187Z"
                                                fill="#99A1B7" />
                                            <path
                                                d="M2.5 19.375H7.29125C7.78837 19.3745 8.26497 19.1768 8.61649 18.8252C8.96801 18.4737 9.16572 17.9971 9.16625 17.5V12.7081C9.16572 12.211 8.96801 11.7344 8.61649 11.3829C8.26497 11.0314 7.78837 10.8337 7.29125 10.8331H2.5C2.00289 10.8337 1.5263 11.0314 1.1748 11.3829C0.823287 11.7344 0.625562 12.211 0.625 12.7081V17.5C0.625562 17.9971 0.823287 18.4737 1.1748 18.8252C1.5263 19.1767 2.00289 19.3744 2.5 19.375ZM1.875 12.7081C1.8752 12.5424 1.94111 12.3836 2.05828 12.2664C2.17544 12.1492 2.3343 12.0833 2.5 12.0831H7.29125C7.45695 12.0833 7.61581 12.1492 7.73297 12.2664C7.85014 12.3836 7.91605 12.5424 7.91625 12.7081V17.5C7.91605 17.6657 7.85014 17.8246 7.73297 17.9417C7.61581 18.0589 7.45695 18.1248 7.29125 18.125H2.5C2.3343 18.1248 2.17544 18.0589 2.05828 17.9417C1.94111 17.8246 1.8752 17.6657 1.875 17.5V12.7081Z"
                                                fill="#99A1B7" />
                                            <path
                                                d="M2.5 9.16687H7.29125C7.78837 9.16635 8.26497 8.96863 8.61649 8.61712C8.96801 8.2656 9.16572 7.78899 9.16625 7.29187V2.5C9.16572 2.00288 8.96801 1.52628 8.61649 1.17476C8.26497 0.823243 7.78837 0.625529 7.29125 0.625H2.5C2.00289 0.625562 1.5263 0.823287 1.1748 1.1748C0.823287 1.5263 0.625562 2.00289 0.625 2.5V7.29187C0.625562 7.78898 0.823287 8.26557 1.1748 8.61708C1.5263 8.96859 2.00289 9.16631 2.5 9.16687ZM1.875 2.5C1.8752 2.3343 1.94111 2.17544 2.05828 2.05828C2.17544 1.94111 2.3343 1.8752 2.5 1.875H7.29125C7.45695 1.8752 7.61581 1.94111 7.73297 2.05828C7.85014 2.17544 7.91605 2.3343 7.91625 2.5V7.29187C7.91605 7.45757 7.85014 7.61643 7.73297 7.7336C7.61581 7.85077 7.45695 7.91668 7.29125 7.91687H2.5C2.3343 7.91668 2.17544 7.85077 2.05828 7.7336C1.94111 7.61643 1.8752 7.45757 1.875 7.29187V2.5Z"
                                                fill="#99A1B7" />
                                            <path
                                                d="M15.1038 10.8331C14.2591 10.8332 13.4333 11.0837 12.731 11.553C12.0287 12.0224 11.4813 12.6894 11.1581 13.4698C10.8348 14.2502 10.7503 15.109 10.9151 15.9374C11.0799 16.7659 11.4867 17.5269 12.084 18.1242C12.6813 18.7215 13.4422 19.1282 14.2707 19.2931C15.0992 19.4579 15.9579 19.3733 16.7383 19.0501C17.5187 18.7268 18.1858 18.1795 18.6551 17.4771C19.1244 16.7748 19.375 15.9491 19.375 15.1044C19.374 13.9719 18.9237 12.886 18.1229 12.0852C17.3221 11.2844 16.2363 10.8341 15.1038 10.8331ZM15.1038 18.125C14.5063 18.125 13.9222 17.9477 13.4254 17.6157C12.9286 17.2837 12.5415 16.8119 12.3129 16.2598C12.0843 15.7078 12.0245 15.1004 12.1411 14.5143C12.2577 13.9283 12.5455 13.3901 12.9681 12.9676C13.3906 12.5452 13.9289 12.2575 14.515 12.141C15.101 12.0245 15.7084 12.0844 16.2604 12.3131C16.8124 12.5418 17.2842 12.9291 17.6161 13.4259C17.948 13.9228 18.1251 14.5069 18.125 15.1044C18.1241 15.9053 17.8055 16.6732 17.2391 17.2396C16.6727 17.8059 15.9047 18.1243 15.1038 18.125Z"
                                                fill="#99A1B7" />
                                        </g>
                                        <defs>
                                            <clipPath id="clip0_185_2549">
                                                <rect width="20" height="20" fill="white" />
                                            </clipPath>
                                        </defs>
                                    </svg>
                                </a>
                                <a href="{{ route('admin.projects', ['layout' => 'list']) }}"
                                    class="grid-icon {{ request('layout') === 'list' || request('layout') == '' ? 'active' : '' }}">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M17.5 4.375H2.5C2.15833 4.375 1.875 4.09167 1.875 3.75C1.875 3.40833 2.15833 3.125 2.5 3.125H17.5C17.8417 3.125 18.125 3.40833 18.125 3.75C18.125 4.09167 17.8417 4.375 17.5 4.375Z"
                                            fill="#6B708A" />
                                        <path
                                            d="M17.5 8.54166H2.5C2.15833 8.54166 1.875 8.25832 1.875 7.91666C1.875 7.57499 2.15833 7.29166 2.5 7.29166H17.5C17.8417 7.29166 18.125 7.57499 18.125 7.91666C18.125 8.25832 17.8417 8.54166 17.5 8.54166Z"
                                            fill="#6B708A" />
                                        <path
                                            d="M17.5 12.7083H2.5C2.15833 12.7083 1.875 12.425 1.875 12.0833C1.875 11.7417 2.15833 11.4583 2.5 11.4583H17.5C17.8417 11.4583 18.125 11.7417 18.125 12.0833C18.125 12.425 17.8417 12.7083 17.5 12.7083Z"
                                            fill="#6B708A" />
                                        <path
                                            d="M17.5 16.875H2.5C2.15833 16.875 1.875 16.5917 1.875 16.25C1.875 15.9083 2.15833 15.625 2.5 15.625H17.5C17.8417 15.625 18.125 15.9083 18.125 16.25C18.125 16.5917 17.8417 16.875 17.5 16.875Z"
                                            fill="#6B708A" />
                                    </svg>
                                </a>

                                <div class="custom-dropdown" id="export-btn1">
                                    <button class="dropdown-header btn ol-btn-light">
                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M4.92958 5.39015L4.92958 5.39014L4.92862 5.39023C3.61385 5.51433 2.6542 5.93624 2.02459 6.70756C1.39588 7.47776 1.10332 8.58789 1.10332 10.0733V10.16C1.10332 11.8024 1.45436 12.9868 2.22713 13.7595C2.99991 14.5323 4.18424 14.8833 5.82665 14.8833H10.1733C11.8157 14.8833 13 14.5323 13.7728 13.7612C14.5456 12.9901 14.8967 11.8091 14.8967 10.1733V10.0867C14.8967 8.59116 14.5991 7.47422 13.9602 6.70229C13.3204 5.92935 12.3457 5.51093 11.0111 5.39688C10.7022 5.36759 10.4461 5.59609 10.4169 5.89515C10.3874 6.19728 10.6157 6.46055 10.9151 6.48977L10.9158 6.48983C11.9763 6.57931 12.6917 6.86834 13.1444 7.43134C13.5984 7.99607 13.7967 8.84666 13.7967 10.08V10.1667C13.7967 11.5199 13.5567 12.4209 12.9921 12.9855C12.4275 13.5501 11.5265 13.79 10.1733 13.79H5.82665C4.47345 13.79 3.57245 13.5501 3.00784 12.9855C2.44324 12.4209 2.20332 11.5199 2.20332 10.1667V10.08C2.20332 8.85329 2.39823 8.00581 2.84423 7.44099C3.28876 6.87803 3.99097 6.58587 5.03125 6.4898L5.03139 6.48978C5.33896 6.46049 5.5591 6.18931 5.52975 5.88849C5.50032 5.58677 5.22199 5.36822 4.92958 5.39015Z"
                                                fill="#99A1B7" stroke="#99A1B7" stroke-width="0.1" />
                                            <path
                                                d="M7.45 9.92001C7.45 10.221 7.69905 10.47 8 10.47C8.30051 10.47 8.55 10.2281 8.55 9.92001V1.33334C8.55 1.0324 8.30095 0.783344 8 0.783344C7.69905 0.783344 7.45 1.0324 7.45 1.33334V9.92001Z"
                                                fill="#99A1B7" stroke="#99A1B7" stroke-width="0.1" />
                                            <path
                                                d="M7.61129 11.0554C7.72116 11.1652 7.86077 11.2167 7.99998 11.2167C8.13919 11.2167 8.27879 11.1652 8.38867 11.0554L10.622 8.82202C10.8349 8.60916 10.8349 8.2575 10.622 8.04464C10.4091 7.83178 10.0575 7.83178 9.84462 8.04464L7.99998 9.88929L6.15533 8.04464C5.94247 7.83178 5.59081 7.83178 5.37796 8.04464C5.1651 8.2575 5.1651 8.60916 5.37796 8.82202L7.61129 11.0554Z"
                                                fill="#99A1B7" stroke="#99A1B7" stroke-width="0.1" />
                                        </svg>
                                        {{ get_phrase('Export') }}
                                    </button>
                                    <ul class="dropdown-list dropdown-export">
                                        <li class="mb-1">
                                            <a class="dropdown-item export-btn"
                                                onclick="exportFile('{{ route(get_current_user_role() . '.project.export-file', ['file' => 'pdf']) }}')"
                                                href="javascript:void(0)">

                                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M13.8988 4.68501L10.2739 1.10011C10.2091 1.03603 10.1212 1 10.0295 1H5.96971C3.78081 1 2.00003 2.76151 2.00003 4.92671V9.84474C2.00003 10.0335 2.00128 11.1745 2.34567 11.1154C2.80714 11.1154 2.69132 10.0335 2.69132 9.84474V4.92671C2.69132 3.13849 4.162 1.68367 5.96974 1.68367H9.68389V3.13003C9.68389 4.30449 10.6501 5.26 11.8376 5.26H13.3087V11.0741C13.3087 12.8619 11.8377 14.3164 10.0295 14.3164H5.96971C4.16197 14.3164 2.69129 12.8619 2.69129 11.0741C2.69129 10.8853 2.6811 9.75342 2.34567 9.75342C2.00003 9.75342 2 10.8853 2 11.0741C2 13.2388 3.78081 15 5.96968 15H10.0295C12.2189 15 14 13.2388 14 11.0741V4.92671C14 4.83605 13.9636 4.7491 13.8988 4.68501ZM10.3752 3.13V2.16707L12.8113 4.57633H11.8376C11.0312 4.57633 10.3752 3.92753 10.3752 3.13ZM4.5676 10.0796V9.21071H5.37485C5.94616 9.21071 6.41096 8.75101 6.41096 8.186C6.41096 7.62055 5.94616 7.16055 5.37485 7.16055H4.22195C4.03108 7.16055 3.8763 7.31359 3.8763 7.50238V7.76205V8.8689V10.0796C3.8763 10.2684 4.03105 10.4215 4.22195 10.4215C4.41285 10.4215 4.5676 10.2684 4.5676 10.0796ZM5.7197 8.18603C5.7197 8.3709 5.56179 8.52707 5.37485 8.52707H4.5676V7.84422H5.37485C5.565 7.84422 5.7197 7.99753 5.7197 8.18603ZM10.7326 7.84422V8.42784H11.7946C11.9855 8.42784 12.1402 8.58088 12.1402 8.76967C12.1402 8.95847 11.9855 9.11151 11.7946 9.11151H10.7326V10.0796C10.7326 10.2684 10.5778 10.4215 10.3869 10.4215C10.196 10.4215 10.0413 10.2684 10.0413 10.0796V7.50241C10.0413 7.31362 10.196 7.16058 10.3869 7.16058H11.7945C11.9854 7.16058 12.1402 7.31362 12.1402 7.50241C12.1402 7.69121 11.9854 7.84425 11.7945 7.84425L10.7326 7.84422ZM8.17205 10.4215C8.87428 10.4215 9.44562 9.85606 9.44562 9.16112V8.42088C9.44562 7.72595 8.87428 7.16058 8.17205 7.16058H7.24409C7.05319 7.16058 6.89844 7.31362 6.89844 7.50241V10.0796C6.89844 10.2684 7.05319 10.4215 7.24409 10.4215L8.17205 10.4215ZM7.58971 7.84422H8.17205C8.49315 7.84422 8.75436 8.1029 8.75436 8.42088V9.16112C8.75436 9.4791 8.49315 9.73781 8.17205 9.73781H7.58971V7.84422Z"
                                                        fill="#4d5675" />
                                                </svg>

                                                <span>{{ get_phrase('PDF') }}</span>
                                            </a>
                                        </li>
                                        <li class="mb-1">
                                            <a class="dropdown-item export-btn"
                                                href="javascript:void(0)" onclick="exportFile('{{ route(get_current_user_role() . '.project.export-file', ['file' => 'csv']) }}')">

                                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M13.8988 4.68501L10.2739 1.10011C10.2091 1.03603 10.1212 1 10.0295 1H5.96971C3.78081 1 2.00003 2.76151 2.00003 4.92671V9.84474C2.00003 10.0335 2.00128 11.1745 2.34567 11.1154C2.80714 11.1154 2.69132 10.0335 2.69132 9.84474V4.92671C2.69132 3.13849 4.162 1.68367 5.96974 1.68367H9.68389V3.13003C9.68389 4.30449 10.6501 5.26 11.8376 5.26H13.3087V11.0741C13.3087 12.8619 11.8377 14.3164 10.0295 14.3164H5.96971C4.16197 14.3164 2.69129 12.8619 2.69129 11.0741C2.69129 10.8853 2.6811 9.75342 2.34567 9.75342C2.00003 9.75342 2 10.8853 2 11.0741C2 13.2388 3.78081 15 5.96968 15H10.0295C12.2189 15 14 13.2388 14 11.0741V4.92671C14 4.83605 13.9636 4.7491 13.8988 4.68501ZM10.3752 3.13V2.16707L12.8113 4.57633H11.8376C11.0312 4.57633 10.3752 3.92753 10.3752 3.13Z"
                                                        fill="#4d5675" />
                                                    <path
                                                        d="M6.58284 9.02809C6.58284 9.12016 6.56009 9.21981 6.51466 9.32697C6.46919 9.43422 6.39772 9.53941 6.30025 9.64266C6.20272 9.74594 6.07825 9.82975 5.92675 9.89419C5.77522 9.95866 5.59869 9.99088 5.39713 9.99088C5.24428 9.99088 5.10531 9.97638 4.98016 9.94747C4.85497 9.91853 4.74134 9.8735 4.63925 9.81234C4.53713 9.75119 4.44328 9.67063 4.35766 9.57066C4.28125 9.47994 4.21603 9.37831 4.16203 9.26584C4.108 9.15338 4.0675 9.03341 4.0405 8.90581C4.01347 8.77825 4 8.64278 4 8.49941C4 8.26659 4.03391 8.05816 4.10178 7.874C4.16959 7.68984 4.26678 7.53237 4.39325 7.4015C4.51972 7.27062 4.66794 7.171 4.83791 7.10259C5.00784 7.03422 5.18897 7 5.38134 7C5.61581 7 5.82466 7.04669 6.00778 7.14006C6.19088 7.23344 6.33119 7.34888 6.42872 7.48628C6.52619 7.62372 6.57497 7.75362 6.57497 7.87594C6.57497 7.943 6.55125 8.00222 6.50381 8.05353C6.45638 8.10481 6.39906 8.13047 6.33191 8.13047C6.25681 8.13047 6.2005 8.11272 6.16294 8.07719C6.12537 8.04169 6.08353 7.98053 6.03744 7.89372C5.96103 7.75037 5.87109 7.64316 5.76769 7.57216C5.66425 7.50113 5.53678 7.46562 5.38531 7.46562C5.14422 7.46562 4.95219 7.55706 4.80925 7.73984C4.66628 7.92269 4.59484 8.18244 4.59484 8.51912C4.59484 8.74403 4.62647 8.93116 4.68972 9.08041C4.75294 9.22969 4.84253 9.34119 4.95847 9.41481C5.07437 9.48847 5.21009 9.52528 5.36556 9.52528C5.53419 9.52528 5.67681 9.48356 5.79341 9.4C5.91 9.3165 5.99794 9.19384 6.05722 9.03209C6.08222 8.95584 6.11322 8.89366 6.15009 8.84562C6.18697 8.79766 6.24625 8.77363 6.32794 8.77363C6.39775 8.77363 6.45769 8.79797 6.50775 8.84663C6.55778 8.89528 6.58284 8.95581 6.58284 9.02809Z"
                                                        fill="#4d5675" stroke="#4d5675" stroke-width="0.2"
                                                        stroke-miterlimit="10" />
                                                    <path
                                                        d="M9.21088 9.0735C9.21088 9.24847 9.16579 9.40562 9.07557 9.54503C8.98529 9.68447 8.85322 9.79359 8.67932 9.8725C8.50541 9.95141 8.29919 9.99087 8.06079 9.99087C7.77491 9.99087 7.5391 9.93694 7.35332 9.82909C7.22157 9.75153 7.1145 9.64794 7.03219 9.51837C6.94985 9.38884 6.90869 9.26287 6.90869 9.14056C6.90869 9.06956 6.93338 9.00872 6.98279 8.95806C7.03219 8.90747 7.0951 8.88209 7.1715 8.88209C7.23341 8.88209 7.28579 8.90184 7.3286 8.94131C7.37141 8.98078 7.40797 9.03931 7.43829 9.11687C7.47516 9.20897 7.51503 9.28591 7.55785 9.34772C7.60066 9.40956 7.66091 9.4605 7.73866 9.50062C7.81638 9.54075 7.9185 9.56081 8.04497 9.56081C8.21888 9.56081 8.36016 9.52037 8.46888 9.43947C8.5776 9.35859 8.63191 9.25769 8.63191 9.13666C8.63191 9.04066 8.60257 8.96275 8.54397 8.90287C8.48532 8.84306 8.40957 8.79734 8.31675 8.76575C8.22385 8.73419 8.09966 8.70066 7.94422 8.66512C7.73604 8.61647 7.56185 8.55959 7.42154 8.49447C7.28122 8.42937 7.16988 8.34059 7.08757 8.22816C7.00522 8.11569 6.96407 7.97597 6.96407 7.80891C6.96407 7.64978 7.00754 7.50841 7.09447 7.38475C7.18144 7.26112 7.30722 7.16609 7.47194 7.09966C7.6366 7.03325 7.83025 7.00003 8.05291 7.00003C8.23075 7.00003 8.38457 7.02206 8.51432 7.06612C8.64407 7.11022 8.75182 7.16872 8.83744 7.24172C8.92307 7.31472 8.98563 7.39134 9.02519 7.47156C9.06475 7.55178 9.08444 7.63006 9.08444 7.70634C9.08444 7.77603 9.05978 7.83884 9.01035 7.89472C8.96097 7.95066 8.89932 7.97859 8.8256 7.97859C8.75841 7.97859 8.70732 7.96181 8.67247 7.92828C8.6375 7.89475 8.59966 7.83984 8.55882 7.76356C8.50607 7.65444 8.44285 7.56925 8.36913 7.50809C8.29535 7.44691 8.17675 7.41631 8.01341 7.41631C7.86188 7.41631 7.73972 7.44953 7.64685 7.51594C7.55397 7.58237 7.50754 7.66228 7.50754 7.75566C7.50754 7.81356 7.52335 7.8635 7.55497 7.90559C7.5866 7.94772 7.63007 7.98387 7.68541 8.01412C7.74075 8.04437 7.79672 8.06806 7.85338 8.08512C7.91 8.10222 8.00357 8.12725 8.134 8.16006C8.29735 8.19825 8.44522 8.24031 8.57766 8.28634C8.71004 8.33241 8.82266 8.38828 8.91557 8.45403C9.00847 8.51978 9.08091 8.603 9.13297 8.70359C9.18488 8.80419 9.21088 8.9275 9.21088 9.0735Z"
                                                        fill="#4d5675" stroke="#4d5675" stroke-width="0.2"
                                                        stroke-miterlimit="10" />
                                                    <path
                                                        d="M10.0404 7.38472L10.6965 9.32406L11.3545 7.37094C11.3888 7.26834 11.4145 7.197 11.4316 7.15687C11.4487 7.11675 11.477 7.08062 11.5166 7.04834C11.5561 7.01612 11.6101 7.00003 11.6786 7.00003C11.7287 7.00003 11.7751 7.01253 11.818 7.0375C11.8608 7.0625 11.8943 7.09569 11.9188 7.13712C11.9431 7.17856 11.9553 7.22031 11.9553 7.26241C11.9553 7.29134 11.9514 7.32259 11.9435 7.35612C11.9355 7.38966 11.9257 7.42253 11.9138 7.45475C11.902 7.487 11.8901 7.52022 11.8782 7.55437L11.1767 9.44437C11.1517 9.51672 11.1266 9.58544 11.1016 9.65056C11.0766 9.71566 11.0476 9.77287 11.0147 9.82219C10.9817 9.8715 10.9379 9.91194 10.8833 9.94353C10.8286 9.97509 10.7617 9.99087 10.6827 9.99087C10.6037 9.99087 10.5368 9.97541 10.4821 9.94453C10.4274 9.91366 10.3833 9.87284 10.3497 9.82222C10.3161 9.77159 10.2868 9.71403 10.2618 9.64959C10.2367 9.58516 10.2117 9.51678 10.1867 9.44444L9.49705 7.57019C9.48517 7.536 9.47298 7.50247 9.46048 7.46956C9.44795 7.43669 9.43742 7.40119 9.42886 7.36303C9.4203 7.32487 9.41602 7.29269 9.41602 7.26634C9.41602 7.19928 9.44298 7.13809 9.49705 7.08287C9.55108 7.02762 9.61889 7.00003 9.70061 7.00003C9.8007 7.00003 9.87155 7.03062 9.91305 7.09178C9.95455 7.15294 9.99689 7.25056 10.0404 7.38472Z"
                                                        fill="#4d5675" stroke="#4d5675" stroke-width="0.2"
                                                        stroke-miterlimit="10" />
                                                </svg>
                                                <span>{{ get_phrase('CSV') }}</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item export-btn" href="#" onclick="window.print();">
                                                
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M11.1666 5.16666H4.83325C4.55992 5.16666 4.33325 4.94 4.33325 4.66666V3.33333C4.33325 1.62666 5.12659 0.833328 6.83325 0.833328H9.16659C10.8733 0.833328 11.6666 1.62666 11.6666 3.33333V4.66666C11.6666 4.94 11.4399 5.16666 11.1666 5.16666ZM5.33325 4.16666H10.6666V3.33333C10.6666 2.19999 10.2999 1.83333 9.16659 1.83333H6.83325C5.69992 1.83333 5.33325 2.19999 5.33325 3.33333V4.16666Z" fill="#4d5675"/>
                                                <path d="M8.66659 15.1667H7.33325C5.71992 15.1667 4.83325 14.28 4.83325 12.6667V10C4.83325 9.72667 5.05992 9.5 5.33325 9.5H10.6666C10.9399 9.5 11.1666 9.72667 11.1666 10V12.6667C11.1666 14.28 10.2799 15.1667 8.66659 15.1667ZM5.83325 10.5V12.6667C5.83325 13.72 6.27992 14.1667 7.33325 14.1667H8.66659C9.71992 14.1667 10.1666 13.72 10.1666 12.6667V10.5H5.83325Z" fill="#4d5675"/>
                                                <path d="M12 12.5H10.6667C10.3933 12.5 10.1667 12.2733 10.1667 12V10.5H5.83333V12C5.83333 12.2733 5.60667 12.5 5.33333 12.5H4C2.38667 12.5 1.5 11.6133 1.5 10V6.66667C1.5 5.05334 2.38667 4.16667 4 4.16667H12C13.6133 4.16667 14.5 5.05334 14.5 6.66667V10C14.5 11.6133 13.6133 12.5 12 12.5ZM11.1667 11.5H12C13.0533 11.5 13.5 11.0533 13.5 10V6.66667C13.5 5.61334 13.0533 5.16667 12 5.16667H4C2.94667 5.16667 2.5 5.61334 2.5 6.66667V10C2.5 11.0533 2.94667 11.5 4 11.5H4.83333V10C4.83333 9.72667 5.06 9.5 5.33333 9.5H10.6667C10.94 9.5 11.1667 9.72667 11.1667 10V11.5Z" fill="#4d5675"/>
                                                <path d="M11.3334 10.5H4.66675C4.39341 10.5 4.16675 10.2733 4.16675 10C4.16675 9.72667 4.39341 9.5 4.66675 9.5H11.3334C11.6067 9.5 11.8334 9.72667 11.8334 10C11.8334 10.2733 11.6067 10.5 11.3334 10.5Z" fill="#4d5675"/>
                                                <path d="M6.66675 7.83333H4.66675C4.39341 7.83333 4.16675 7.60666 4.16675 7.33333C4.16675 7.05999 4.39341 6.83333 4.66675 6.83333H6.66675C6.94008 6.83333 7.16675 7.05999 7.16675 7.33333C7.16675 7.60666 6.94008 7.83333 6.66675 7.83333Z" fill="#4d5675"/>
                                            </svg>    
                                            <span>{{ get_phrase('Print') }}</span>    
                                        </a>
                                        </li>
                                    </ul>

                                </div>

                                <div class="btn-group custom-dropdown" id="export-btn1">
                                    <button class="btn ol-btn-light" type="button" id=""
                                        onclick="rightCanvas('{{ route(get_current_user_role() . '.filter', ['param' => 'project']) }}', '{{ get_phrase('Filter project') }}')">
                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7.29327 15.1C6.97327 15.1 6.65993 15.02 6.3666 14.86C5.77993 14.5333 5.4266 13.94 5.4266 13.2733V9.73999C5.4266 9.40666 5.2066 8.90666 4.99993 8.65333L2.5066 6.01333C2.0866 5.59333 1.7666 4.87333 1.7666 4.33333V2.79999C1.7666 1.73333 2.57327 0.899994 3.59993 0.899994H12.3999C13.4133 0.899994 14.2333 1.71999 14.2333 2.73333V4.19999C14.2333 4.89999 13.8133 5.69333 13.4199 6.08666L10.5333 8.63999C10.2533 8.87333 10.0333 9.38666 10.0333 9.79999V12.6667C10.0333 13.26 9.65993 13.9467 9.19327 14.2267L8.27327 14.82C7.97327 15.0067 7.63327 15.1 7.29327 15.1ZM3.59993 1.89999C3.13327 1.89999 2.7666 2.29333 2.7666 2.79999V4.33333C2.7666 4.57999 2.9666 5.05999 3.21993 5.31333L5.75994 7.98666C6.09994 8.40666 6.43327 9.10666 6.43327 9.73333V13.2667C6.43327 13.7 6.73327 13.9133 6.85993 13.98C7.13994 14.1333 7.47993 14.1333 7.73993 13.9733L8.6666 13.38C8.85327 13.2667 9.03994 12.9067 9.03994 12.6667V9.79999C9.03994 9.08666 9.3866 8.29999 9.8866 7.87999L12.7399 5.35333C12.9666 5.12666 13.2399 4.58666 13.2399 4.19333V2.73333C13.2399 2.27333 12.8666 1.89999 12.4066 1.89999H3.59993Z"
                                                fill="#99A1B7" />
                                            <path
                                                d="M3.99995 7.16667C3.90661 7.16667 3.81995 7.14 3.73328 7.09334C3.49995 6.94667 3.42661 6.63334 3.57328 6.4L6.85995 1.13334C7.00661 0.900003 7.31328 0.826669 7.54661 0.973336C7.77995 1.12 7.85328 1.42667 7.70661 1.66L4.41995 6.92667C4.32661 7.08 4.16661 7.16667 3.99995 7.16667Z"
                                                fill="#99A1B7" />
                                        </svg>
                                        {{ get_phrase('Filter') }}
                                        <span class="filter-count-display d-none" id="filter-count-display"></span>
                                    </button>

                                    <a href="javascript:void(0)"
                                        class="border-0 filter-reset d-none d-flex align-items-center"
                                        id="filter-reset">
                                        <svg width="8" height="8" viewBox="0 0 8 8" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path d="M7 6.99927L1.00141 1.00068" stroke="#99A1B7" stroke-width="1.3"
                                                stroke-linecap="round" />
                                            <path d="M1 6.99936L6.99859 1.00077" stroke="#99A1B7" stroke-width="1.3"
                                                stroke-linecap="round" />
                                        </svg>

                                        <span>|</span>
                                    </a>
                                </div>

                                @if (has_permission('project.create'))
                                <button
                                    onclick="rightCanvas('{{ route(get_current_user_role() . '.project.create') }}', 'Create project')"
                                    class="btn ol-btn-outline-secondary d-flex align-items-center cg-10px">
                                    <span class="fi-rr-plus"></span>
                                    <span>{{ get_phrase('Add new') }}</span>
                                </button>
                                @endif
                            </div>
                        </div>

                    </div>
                </div>

                <div id="grid-list" class="row grid-list">
                    @if (count($projects))
                        @foreach ($projects as $project)
                            <div class="col-sm-6 col-md-4 col-lg-4 col-xl-3 pt-3">
                                <div class="grid-card context-menu" data-code="{{$project->code}}">
                                    <!-- User Profile Section -->
                                    <div class="grid-header">
                                        <div class="note">
                                            <div class="logo me-2">
                                                <!-- SVG Icon -->
                                                <svg width="16" height="20" viewBox="0 0 16 20" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M13.1827 17.6395C14.873 15.9492 15.2375 14.5581 15.2405 14.5558C15.3386 13.217 15.4127 11.5773 15.4021 10.6101C15.4198 9.00912 15.2052 5.56203 15.0317 4.69423C14.756 3.27023 13.4543 1.89269 12.0332 1.57814C11.1707 1.40176 9.30342 1.22538 7.70128 1.22008C6.09914 1.21479 4.23243 1.39647 3.36992 1.57814C1.95004 1.89269 0.648343 3.26965 0.371423 4.69423C0.197981 5.56203 -0.016618 9.00912 0.00102021 10.6101C-0.016618 12.2111 0.197981 15.6587 0.371423 16.5265C0.647168 17.9505 1.94887 19.3275 3.36992 19.6426C4.23243 19.8219 6.09973 19.9954 7.70128 20.0001C8.42974 20.0001 9.21229 19.9619 9.93076 19.9048C9.94369 19.8996 11.4982 19.3234 13.1827 17.6395Z"
                                                        fill="url(#paint0_linear_121_1134)" />
                                                    <path
                                                        d="M8.52329 12.6648H3.93323C3.83267 12.6677 3.73257 12.6503 3.63885 12.6137C3.54512 12.5772 3.45967 12.5222 3.38755 12.4521C3.31543 12.382 3.2581 12.2981 3.21895 12.2054C3.17981 12.1127 3.15964 12.0132 3.15964 11.9126C3.15964 11.812 3.17981 11.7124 3.21895 11.6197C3.2581 11.5271 3.31543 11.4432 3.38755 11.373C3.45967 11.3029 3.54512 11.248 3.63885 11.2114C3.73257 11.1749 3.83267 11.1575 3.93323 11.1603H8.52329C8.71916 11.1658 8.90518 11.2474 9.04178 11.3879C9.17839 11.5284 9.25482 11.7166 9.25482 11.9126C9.25482 12.1085 9.17839 12.2967 9.04178 12.4372C8.90518 12.5777 8.71916 12.6594 8.52329 12.6648ZM11.4689 9.50172H3.93323C3.83267 9.50453 3.73257 9.48715 3.63885 9.45061C3.54512 9.41407 3.45967 9.35911 3.38755 9.28898C3.31543 9.21885 3.2581 9.13497 3.21895 9.0423C3.17981 8.94963 3.15964 8.85005 3.15964 8.74945C3.15964 8.64885 3.17981 8.54928 3.21895 8.45661C3.2581 8.36394 3.31543 8.28006 3.38755 8.20992C3.45967 8.13979 3.54512 8.08483 3.63885 8.04829C3.73257 8.01175 3.83267 7.99437 3.93323 7.99718H11.4677C11.5683 7.99437 11.6684 8.01175 11.7621 8.04829C11.8558 8.08483 11.9413 8.13979 12.0134 8.20992C12.0855 8.28006 12.1428 8.36394 12.182 8.45661C12.2211 8.54928 12.2413 8.64885 12.2413 8.74945C12.2413 8.85005 12.2211 8.94963 12.182 9.0423C12.1428 9.13497 12.0855 9.21885 12.0134 9.28898C11.9413 9.35911 11.8558 9.41407 11.7621 9.45061C11.6684 9.48715 11.5683 9.50453 11.4677 9.50172H11.4689Z"
                                                        fill="url(#paint1_linear_121_1134)" />
                                                    <path
                                                        d="M9.92978 19.9047C9.95036 18.9464 9.96858 17.7499 9.9821 16.8316C9.9874 16.4759 9.9921 16.1572 9.99621 15.9026C10.0041 15.5591 10.1445 15.2318 10.3881 14.9894C10.6317 14.747 10.9596 14.6082 11.3032 14.6021L12.7731 14.5851C13.6262 14.5757 14.5245 14.5657 15.2371 14.5557C15.2371 14.5557 14.8732 15.9473 13.1793 17.6394C11.4855 19.3315 9.92978 19.9047 9.92978 19.9047Z"
                                                        fill="url(#paint2_linear_121_1134)" />
                                                    <path
                                                        d="M15.0293 4.69412C14.7536 3.27013 13.4519 1.89258 12.0308 1.57803H12.0226V0.754916C12.0226 0.555324 11.9433 0.363906 11.8022 0.222773C11.6611 0.0816395 11.4696 0.00235182 11.27 0.00235182C11.0705 0.00235182 10.879 0.0816395 10.7379 0.222773C10.5968 0.363906 10.5175 0.555324 10.5175 0.754916V1.37049C9.88251 1.30758 9.1611 1.25819 8.45146 1.23585V0.752565C8.44598 0.556691 8.36432 0.370677 8.22384 0.234069C8.08336 0.097461 7.89514 0.0210327 7.69919 0.0210327C7.50324 0.0210327 7.31501 0.097461 7.17453 0.234069C7.03405 0.370677 6.95239 0.556691 6.94692 0.752565V1.2335C6.23727 1.25584 5.51587 1.30523 4.88089 1.36814V0.752565C4.88089 0.552972 4.80161 0.361555 4.66047 0.220421C4.51934 0.0792881 4.32792 0 4.12833 0C3.92874 0 3.73732 0.0792881 3.59619 0.220421C3.45505 0.361555 3.37576 0.552972 3.37576 0.752565V1.57568H3.36753C1.94766 1.89023 0.645956 3.26719 0.369036 4.69177C0.337287 4.84875 0.30495 5.08981 0.272614 5.38848C2.08112 5.24326 4.94616 5.09039 7.69654 5.08745C10.4469 5.08451 13.3161 5.24326 15.1234 5.38848C15.0934 5.09216 15.0611 4.85051 15.0293 4.69412Z"
                                                        fill="url(#paint3_linear_121_1134)" />
                                                    <defs>
                                                        <linearGradient id="paint0_linear_121_1134" x1="13.9558"
                                                            y1="16.8658" x2="0.624829" y2="3.5348"
                                                            gradientUnits="userSpaceOnUse">
                                                            <stop stop-color="#FF8145" />
                                                            <stop offset="0.43" stop-color="#FF8952" />
                                                            <stop offset="0.97" stop-color="#FFAD8A" />
                                                        </linearGradient>
                                                        <linearGradient id="paint1_linear_121_1134" x1="9.43401"
                                                            y1="12.0646" x2="4.49413" y2="7.12468"
                                                            gradientUnits="userSpaceOnUse">
                                                            <stop stop-color="#FFDDCE" />
                                                            <stop offset="0.52" stop-color="white" />
                                                            <stop offset="1" stop-color="white" />
                                                        </linearGradient>
                                                        <linearGradient id="paint2_linear_121_1134" x1="13.0882"
                                                            y1="17.7341" x2="8.98908" y2="13.6349"
                                                            gradientUnits="userSpaceOnUse">
                                                            <stop stop-color="#E95932" />
                                                            <stop offset="1" stop-color="#F9712D" />
                                                        </linearGradient>
                                                        <linearGradient id="paint3_linear_121_1134" x1="11.875"
                                                            y1="8.64156" x2="3.52569" y2="0.292797"
                                                            gradientUnits="userSpaceOnUse">
                                                            <stop stop-color="#F36062" />
                                                            <stop offset="0.44" stop-color="#F3585A" />
                                                            <stop offset="1" stop-color="#FF8C8B" />
                                                        </linearGradient>
                                                    </defs>
                                                </svg>
                                            </div>
                                            <span class="note-body fs-12px">{{ $project->note }}</span>
                                        </div>

                                        <div>
                                            <div class="dropdown ol-icon-dropdown ol-icon-dropdown-transparent">
                                                <button class="btn ol-btn-secondary dropdown-toggle" type="button"
                                                    data-bs-toggle="dropdown" aria-expanded="false">
                                                    
                                                    <svg width="4" height="14" viewBox="0 0 4 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M3.66663 1.99882C3.66663 1.08215 2.91663 0.332153 1.99996 0.332153C1.08329 0.332153 0.333293 1.08215 0.333293 1.99882C0.333293 2.91549 1.08329 3.66549 1.99996 3.66549C2.91663 3.66549 3.66663 2.91549 3.66663 1.99882ZM3.66663 11.9988C3.66663 11.0822 2.91663 10.3322 1.99996 10.3322C1.08329 10.3322 0.333292 11.0822 0.333292 11.9988C0.333292 12.9155 1.08329 13.6655 1.99996 13.6655C2.91663 13.6655 3.66663 12.9155 3.66663 11.9988ZM3.66663 6.99882C3.66663 6.08215 2.91663 5.33215 1.99996 5.33215C1.08329 5.33215 0.333292 6.08215 0.333292 6.99882C0.333292 7.91549 1.08329 8.66549 1.99996 8.66549C2.91663 8.66549 3.66663 7.91549 3.66663 6.99882Z" fill="#99A1B7"/>
                                                    </svg>
    
                                                </button>
                                                <ul class="dropdown-menu">
                                                    <li>
                                                        <a class="dropdown-item"
                                                            onclick="rightCanvas('{{ route(get_current_user_role() . '.project.edit', $project->code) }}', 'Edit project')"
                                                            href="#">{{ get_phrase('Edit') }}</a>
                                                    </li>
                                                    <li>
                                                        <a class="dropdown-item"
                                                            onclick="confirmModal('{{ route(get_current_user_role() . '.project.delete', $project->code) }}')"
                                                            href="javascript:void(0)">{{ get_phrase('Delete') }}</a>
                                                    </li>
                                                    <li>
                                                        <a class="dropdown-item"
                                                            href="{{ route(get_current_user_role() . '.project.details', $project->code) }}">{{ get_phrase('view project') }}</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Task Info Section -->
                                    <div class="grid-title">
                                        <span class="fs-14px">{{ $project->title }}</span>
                                        <div class="fs-12px">
                                            <span>{{ $project->user->name }}</span>
                                            <span class="code">{{ $project->code }}</span>
                                        </div>
                                    </div>

                                    <!-- Progress -->
                                    <div class="grid-progress">
                                        <div class="d-flex align-items-center">
                                            @foreach (json_decode($project->staffs) as $key => $staff)
                                                @php
                                                    if ($key > 2) {
                                                        break;
                                                    }
                                                @endphp
                                                <img src="{{ get_image(App\models\User::where('id', $staff)->first()->photo) }}"
                                                    alt="Attendee 1">
                                            @endforeach
                                            @if (count(json_decode($project->staffs)) > 3)
                                                <span
                                                    class="project-count">+{{ count(json_decode($project->staffs)) - 3 }}</span>
                                            @endif
                                        </div>
                                        <div>
                                            @if ($project->status == 'in_progress')
                                                <span class="in_progress ">{{ get_phrase('In Progress') }}</span>
                                            @elseif($project->status == 'not_started')
                                                <span class="not_started">{{ get_phrase('Not Started') }}</span>
                                            @elseif($project->status == 'completed')
                                                <span class="completed">{{ get_phrase('Completed') }}</span>
                                            @endif
                                        </div>
                                    </div>

                                    <div class="mt-4">
                                        <div class="d-flex justify-content-between mb-1">
                                            <span class="text-muted">{{ get_phrase('Progress') }}</span>
                                            <span class="text-muted">{{ $project->progress }}%</span>
                                        </div>
                                        <div class="bg-light rounded overflow-hidden" style="height: 8px;">
                                            <div class="bg-progress-primary"
                                                style="width: {{ $project->progress }}%; height: 100%; border-radius: 8px;">
                                            </div>
                                        </div>
                                    </div>


                                    <!-- View Details Link -->
                                    <div class="text-muted mt-20px fs-12px">
                                        <a
                                            href="{{ route(get_current_user_role() . '.project.details', $project->code) }}">
                                            <div class="d-inline">
                                                <span>{{ get_phrase('View Details') }}</span>
                                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M4.66666 11.3334L11.3333 4.66669M11.3333 4.66669H4.66666M11.3333 4.66669V11.3334"
                                                        stroke="#6B708A" stroke-width="1.3" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                </svg>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        @endforeach
                    @else
                        <div class="col-sm-6">
                            <div id="table-data-not-found" class="my-4">
                                <div class="no-data py-5">
                                    <img src="{{ asset('assets/images/no-data.png') }}" alt="No Data" style="max-width: 150px;">
                                    <h3 class="py-3">{{ get_phrase('No Result Found') }}</h3>
                                    <p class="pb-4">{{ get_phrase('A few questions to keep you make sure you’ve listened to the past ') }}</p>
                                </div>
                            </div>
                        </div>
                    @endif

                    <div class="d-flex justify-content-between align-items-center d-lpaginate">
                        <div class="page-length-select fs-12px d-flex align-items-center mt-3 w-260">
                            <label for="page-length-select" class="pe-2">{{ get_phrase('Showing') }}:</label>
                            <select id="page-length-select" class="form-select fs-12px w-auto ol-niceSelect">
                                <option value="10" {{ $page_item == 10 ? 'selected' : '' }}>10</option>
                                <option value="20" {{ $page_item == 20 ? 'selected' : '' }}>20</option>
                                <option value="50" {{ $page_item == 50 ? 'selected' : '' }}>50</option>
                                <option value="100" {{ $page_item == 100 ? 'selected' : '' }}>100</option>
                            </select>
                            <label for="page-length-select" class="ps-2 w-100"> of
                                {{ count(App\Models\Project::get()) }}</label>
                        </div>
                        <div class="lpaginate mt-4">
                            {{ $projects->links() }}
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

@push('js')
    <script>
        "use strict";
        
        $(document).ready(function() {
            // Initialize context menu
            $.contextMenu({
                selector: '.context-menu',
                autoHide: false,
                items: {
                    Edit: {
                        name: "Edit",
                        callback: function(itemKey, opt, e) {
                            const code = opt.$trigger.attr("data-code");
                            rightCanvas("{{ url(get_current_user_role() . '/project/edit/') }}" + '/' +
                                code,
                                'Edit project')
                        }
                    },
                    Delete: {
                        name: "Delete",
                        callback: function(itemKey, opt, e) {
                            const code = opt.$trigger.attr("data-code");
                            confirmModal("{{ url(get_current_user_role() . '/project/delete/') }}" +
                                '/' + code)
                        }
                    },
                    View_Project: {
                        name: "View Project",
                        items: {
                            Milestone: {
                                name: "Milestone",
                                callback: function(itemKey, opt, e) {
                                    const code = opt.$trigger.attr("data-code");
                                    window.location.href =
                                        "{{ url(get_current_user_role() . '/project/') }}" + '/' +
                                        code +
                                        '/milestone'
                                }
                            },
                            Task: {
                                name: "Task",
                                callback: function(itemKey, opt, e) {
                                    const code = opt.$trigger.attr("data-code");
                                    window.location.href =
                                        "{{ url(get_current_user_role() . '/project/') }}" + '/' +
                                        code +
                                        '/task'
                                }
                            },
                            File: {
                                name: "File",
                                callback: function(itemKey, opt, e) {
                                    const code = opt.$trigger.attr("data-code");
                                    window.location.href =
                                        "{{ url(get_current_user_role() . '/project/') }}" + '/' +
                                        code +
                                        '/file'
                                }
                            },
                            Meeting: {
                                name: "Meeting",
                                callback: function(itemKey, opt, e) {
                                    const code = opt.$trigger.attr("data-code");
                                    window.location.href =
                                        "{{ url(get_current_user_role() . '/project/') }}" + '/' +
                                        code +
                                        '/meeting'
                                }
                            },
                            Invoice: {
                                name: "Invoice",
                                callback: function(itemKey, opt, e) {
                                    const code = opt.$trigger.attr("data-code");
                                    window.location.href =
                                        "{{ url(get_current_user_role() . '/project/') }}" + '/' +
                                        code +
                                        '/invoice'
                                }
                            },
                            Timesheet: {
                                name: "Timesheet",
                                callback: function(itemKey, opt, e) {
                                    const code = opt.$trigger.attr("data-code");
                                    window.location.href =
                                        "{{ url(get_current_user_role() . '/project/') }}" + '/' +
                                        code +
                                        '/timesheet'
                                }
                            },
                            Gantt_Chart: {
                                name: "Gantt Chart",
                                callback: function(itemKey, opt, e) {
                                    window.location.href =
                                        "{{ url(get_current_user_role() . '/project/') }}" +
                                        '/gantt_chart'
                                }
                            },

                        }
                    }
                }
            });
        });

        function grid_view() {
            $.ajax({
                url: "{{ route(get_current_user_role() . '.projects', ['layout' => 'grid']) }}",
                type: 'GET',
                data: (function() {
                    var formData = {};
                    $('#filters-container :input').each(function() {
                        var name = $(this).attr('name');
                        var value = $(this).val();
                        // console.log(value)
                        if (value && value != 'undefined') {
                            formData[name] = value || null;
                        }
                    });
                    return formData;
                })(),
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') // Include CSRF token
                },
                success: function(response) {
                    $("#grid-list").html(response);
                },
                error: function(xhr) {
                    console.error("Error:", xhr.responseText);
                }
            });
        }
        $('#filter').on('click', function(e) {
            grid_view();
        })

        $('#custom-search-box').on('keyup', function(e) {
            grid_view();
        });
        $('#page-length-select').on('change', function() {
            grid_view();
        });
        $('#filter-reset').on('click', function() {
            $('#status, #client, #staff, #category').val('all')
            $('#filter-count-display, #filter-reset').addClass('d-none');
            $('.minPrice').val(0)
            grid_view();
        });
    </script>
@endpush
